Pipelines:
{
  "available_topics": [
    "work",
    "personal",
    "promotion",
    "newsletter",
    "support"
  ],
  "topics_with_descriptions": {
    "work": "Work-related emails including meetings, deadlines, and business communications",
    "personal": "Personal communications from friends, family, and personal accounts",
    "promotion": "Sales, discounts, special offers, and marketing emails",
    "newsletter": "Regular updates, subscriptions, and periodic communications",
    "support": "Customer support, help requests, and technical issues"
  }
}
Adding new sport topic
{
  "name": "sport",
  "description": "Sports related emails including games, training, scores, and team updates"
}
Adding labeled email (topic=sport)
{
  "message": "Email stored successfully",
  "email_id": "6f921eb2-6b9d-4c44-b916-8b508500eeee"
}
Adding weekend email
{
  "message": "Email stored successfully",
  "email_id": "dd6410af-7cce-4815-a9d5-4a00dcc3a30f"
}
Adding unlabled email
{
  "detail": [
    {
      "type": "json_invalid",
      "loc": [
        "body",
        127
      ],
      "msg": "JSON decode error",
      "input": {},
      "ctx": {
        "error": "Illegal trailing comma before end of object"
      }
    }
  ]
}
Adding unlabled email
{
  "detail": [
    {
      "type": "json_invalid",
      "loc": [
        "body",
        108
      ],
      "msg": "JSON decode error",
      "input": {},
      "ctx": {
        "error": "Illegal trailing comma before end of object"
      }
    }
  ]
}
Classify new sport email
{
  "predicted_topic": "sport",
  "topic_scores": {
    "work": 0.5491365941119281,
    "personal": 0.4840151881214358,
    "promotion": 0.4692636649648363,
    "newsletter": 0.5476549540421999,
    "support": 0.5449386798053057,
    "sport": 0.620637771812014
  },
  "features": {
    "spam_has_spam_words": 0,
    "word_length_average_word_length": 5.117647058823529,
    "email_embeddings_average_embedding": [
      0.00860280729830265,
      -0.055503953248262405,
      -0.02155274897813797,
      0.013132533058524132,
      0.05553683638572693,
      0.06396431475877762,
      0.009675998240709305,
      -0.019817067310214043,
      0.02127917855978012,
      -0.007018386386334896,
      -0.0687890574336052,
      0.04429600015282631,
      -0.0932401493191719,
      0.10398177802562714,
      0.06985054165124893,
      -0.05427621677517891,
      -0.025905895978212357,
      -0.16370511054992676,
      0.013029527850449085,
      -0.0042619300074875355,
      -0.05381382629275322,
      -0.02151263877749443,
      -0.051079440861940384,
      0.035695016384124756,
      -0.011464517563581467,
      0.06199933588504791,
      0.04549698159098625,
      -0.004594652913510799,
      0.0431855171918869,
      -0.06922507286071777,
      -0.0772818773984909,
      0.00835926178842783,
      0.08458415418863297,
      -0.02578614093363285,
      -0.03782806172966957,
      0.06633293628692627,
      0.07432255893945694,
      -0.007154849357903004,
      0.03119298815727234,
      0.0633939802646637,
      0.01234460435807705,
      -0.11788236349821091,
      -0.03331447020173073,
      0.03387686237692833,
      0.009758568368852139,
      0.10801666229963303,
      0.04691993445158005,
      -0.06852240115404129,
      0.06599335372447968,
      0.03595571964979172,
      -0.010290213860571384,
      0.020921802148222923,
      0.017986038699746132,
      0.004181473050266504,
      0.027366377413272858,
      0.1423221379518509,
      0.024648472666740417,
      0.023126643151044846,
      0.0365302637219429,
      0.06331388652324677,
      -0.041254445910453796,
      0.024960966780781746,
      -0.03947979956865311,
      0.004358943086117506,
      -0.043247587978839874,
      -0.034096915274858475,
      -0.04005448892712593,
      0.018836313858628273,
      0.09174510091543198,
      -0.05500054731965065,
      -0.030258212238550186,
      0.008145339787006378,
      0.01840544305741787,
      -0.01315393391996622,
      0.0032987112645059824,
      0.05540279671549797,
      0.017191624268889427,
      -0.03428586572408676,
      0.06793597340583801,
      -0.10146398842334747,
      -0.04729373753070831,
      -0.03855873644351959,
      0.0291536133736372,
      -0.02340591326355934,
      -0.026022592559456825,
      0.039680689573287964,
      -0.01177061814814806,
      0.07750766724348068,
      0.016037235036492348,
      0.010586382821202278,
      -0.0028736272361129522,
      0.03630544990301132,
      -0.06778302043676376,
      0.054911933839321136,
      0.018174447119235992,
      0.07854287326335907,
      -0.03233226761221886,
      0.023222405463457108,
      0.05554288625717163,
      0.08816271275281906,
      0.04319553077220917,
      0.10343046486377716,
      -0.03565144166350365,
      0.0770610123872757,
      -0.06290671974420547,
      -0.06265527009963989,
      -0.02658630907535553,
      0.02945375069975853,
      -0.01836872100830078,
      -0.04327812418341637,
      0.05409188196063042,
      0.03259151801466942,
      -0.023254580795764923,
      0.03985494375228882,
      -0.048566784709692,
      0.14887699484825134,
      -0.04257819801568985,
      0.007907651364803314,
      -0.06320886313915253,
      0.054186999797821045,
      0.04436032474040985,
      0.03189511224627495,
      0.04281526058912277,
      -0.04637318477034569,
      0.014068984426558018,
      0.0442030094563961,
      0.005174653604626656,
      1.912150946543691E-33,
      0.04587171599268913,
      -0.0689828097820282,
      -0.04196758195757866,
      0.07232782989740372,
      -0.00640025082975626,
      -0.03617872670292854,
      0.0437602624297142,
      0.008515166118741035,
      -0.010009530931711197,
      -0.036782536655664444,
      -0.0016794665716588497,
      -0.04634564369916916,
      0.015259675681591034,
      -0.08973459154367447,
      -0.04003973677754402,
      -0.0654473677277565,
      -0.04324883595108986,
      0.046577271074056625,
      -0.05077115818858147,
      -0.007484425790607929,
      0.026098892092704773,
      -0.03608463332056999,
      -0.0587209053337574,
      -0.02662751078605652,
      -0.013966979458928108,
      0.07238729298114777,
      -0.06521391868591309,
      0.00720794964581728,
      0.08096170425415039,
      0.0027840654365718365,
      -0.04336501285433769,
      -0.030754277482628822,
      -0.04270362854003906,
      0.04086485877633095,
      0.03624969348311424,
      0.006882129702717066,
      -0.015688691288232803,
      -0.027161559090018272,
      0.04617639258503914,
      -0.060296788811683655,
      0.024670971557497978,
      -0.007159056141972542,
      0.013634472154080868,
      -0.09193297475576401,
      -0.003467530943453312,
      -0.015433777123689651,
      -0.004788355436176062,
      -0.008776089176535606,
      0.03386808931827545,
      0.00048738447367213666,
      -0.03337971121072769,
      0.02278873138129711,
      0.01990961655974388,
      -0.12322650104761124,
      -0.04050496593117714,
      0.07703585177659988,
      -0.00785781815648079,
      0.054342709481716156,
      -0.04538698494434357,
      -0.005292011424899101,
      0.07078932970762253,
      0.0018053760286420584,
      -0.03789884224534035,
      -0.00289137102663517,
      0.005208136979490519,
      -0.052826717495918274,
      -0.012040172703564167,
      -0.0039307535625994205,
      0.0353907011449337,
      -0.09861189872026443,
      0.00646165432408452,
      0.010825896635651588,
      0.036676403135061264,
      0.02775520831346512,
      0.028590677306056023,
      0.02738354355096817,
      -0.0009288005530834198,
      0.07713525742292404,
      -0.06781989336013794,
      0.04672955349087715,
      0.09580716490745544,
      0.007021707948297262,
      -0.04521946236491203,
      -0.046173229813575745,
      0.03599509969353676,
      0.014395905658602715,
      -0.03747538477182388,
      -0.060665979981422424,
      -0.05039459094405174,
      0.019723890349268913,
      -0.08136231452226639,
      0.04255072399973869,
      -0.04093540087342262,
      0.03184569627046585,
      0.03100193478167057,
      -2.704401261890288E-33,
      0.07058147341012955,
      0.0010510004358366132,
      -0.05986403673887253,
      0.04626169428229332,
      0.0721939280629158,
      -0.016311269253492355,
      0.11172053962945938,
      0.09285545349121094,
      -0.010716958902776241,
      0.0968877449631691,
      0.0009318001102656126,
      -0.01385099720209837,
      -0.03389313817024231,
      -0.12177183479070663,
      -0.09504656493663788,
      -0.03876519948244095,
      0.017953388392925262,
      0.08693895488977432,
      -0.004640822298824787,
      0.04144398123025894,
      0.03910128027200699,
      -0.038699086755514145,
      -0.10187576711177826,
      -0.0196098443120718,
      -0.014035296626389027,
      0.01068356167525053,
      0.047710318118333817,
      0.06444241851568222,
      -0.061651505529880524,
      0.08999045193195343,
      -0.01674015074968338,
      -0.0765003189444542,
      -0.0393027625977993,
      0.026353497058153152,
      -0.043403927236795425,
      0.029580816626548767,
      -0.03873530030250549,
      0.07050590962171555,
      -0.02626071684062481,
      0.05112197622656822,
      0.023816825821995735,
      -0.00782399158924818,
      -0.0883963331580162,
      0.021242031827569008,
      0.0034974124282598495,
      0.05264538154006004,
      0.00469471700489521,
      -0.07226739823818207,
      -0.05128999799489975,
      0.07006455957889557,
      0.034363217651844025,
      -0.03626367822289467,
      -0.035510823130607605,
      -0.11533243209123611,
      0.013627727515995502,
      -0.008730321191251278,
      0.010561992414295673,
      -0.07074923068284988,
      -0.0650920569896698,
      -0.020327584818005562,
      0.06523557007312775,
      0.0173893291503191,
      -0.009717170149087906,
      -0.013201195746660233,
      0.06109492480754852,
      0.023843565955758095,
      -0.06904757767915726,
      0.07446801662445068,
      -0.006397247780114412,
      0.03805131837725639,
      -0.05402171239256859,
      -0.03399744629859924,
      0.021991368383169174,
      0.013184922747313976,
      -0.020153291523456573,
      -0.014900040812790394,
      0.02950574830174446,
      -0.05066681653261185,
      0.005561723839491606,
      -0.0077975355088710785,
      -0.047204624861478806,
      -0.04905978590250015,
      -0.07516464591026306,
      0.015447698533535004,
      0.01608102396130562,
      0.12466093897819519,
      0.09078217297792435,
      0.127844899892807,
      0.018672984093427658,
      -0.050947003066539764,
      0.00013097912597004324,
      0.03850572183728218,
      0.008256652392446995,
      -0.012332762591540813,
      0.006545342039316893,
      -2.258890852147033E-8,
      -0.039269380271434784,
      -0.031177164986729622,
      -0.0012843639124184847,
      0.03397512063384056,
      0.011955810710787773,
      -0.1109044998884201,
      0.0078525859862566,
      -0.026473669335246086,
      0.043358732014894485,
      0.024127310141921043,
      0.006867819931358099,
      0.001460905303247273,
      0.06427636742591858,
      -0.035794906318187714,
      -0.02654029242694378,
      0.042634669691324234,
      -0.10655960440635681,
      -0.029436033219099045,
      -0.0394991897046566,
      -0.044717732816934586,
      -0.014672070741653442,
      -0.05523141473531723,
      0.012530354782938957,
      0.057424720376729965,
      0.11513394117355347,
      -0.05706195533275604,
      -0.05995674803853035,
      0.1202131137251854,
      -0.03518811985850334,
      -0.01760641112923622,
      0.02251722849905491,
      0.07696451246738434,
      0.007026255130767822,
      -0.031274326145648956,
      0.019064700230956078,
      -0.03501281887292862,
      -0.053779423236846924,
      -0.04735935851931572,
      -0.04353070259094238,
      -0.030081095173954964,
      -0.040607210248708725,
      -0.10444000363349915,
      -0.022672303020954132,
      -0.0068658627569675446,
      -0.015229307115077972,
      -0.006029472686350346,
      -0.07726800441741943,
      0.05441300570964813,
      -0.05046607926487923,
      -0.1078655943274498,
      0.005209697876125574,
      0.019735194742679596,
      0.05378077179193497,
      -0.01562594249844551,
      0.10954565554857254,
      0.09057203680276871,
      -0.04779918119311333,
      -0.04310018569231033,
      0.04377187043428421,
      0.004862927366048098,
      -0.09097867459058762,
      0.018423981964588165,
      -0.024938642978668213,
      -0.030814997851848602
    ],
    "raw_email_email_subject": "Training session moved to 7pm",
    "raw_email_email_body": "The football match lineup is ready and team practice starts earlier today"
  },
  "available_topics": [
    "work",
    "personal",
    "promotion",
    "newsletter",
    "support",
    "sport"
  ]
}
Classify weekend-like email with nearest similarity strategy
{
  "predicted_topic": "personal",
  "topic_scores": {
    "personal": 0.9060612210251973
  },
  "features": {
    "spam_has_spam_words": 0,
    "word_length_average_word_length": 4.0,
    "email_embeddings_average_embedding": [
      0.05100182443857193,
      -0.07876414805650711,
      0.03828394040465355,
      0.08077145367860794,
      -0.060491856187582016,
      0.015305663459002972,
      0.001021919772028923,
      -0.09494141489267349,
      -0.033480457961559296,
      0.015805646777153015,
      0.005009159445762634,
      -0.004291965626180172,
      -0.049794383347034454,
      0.1205592155456543,
      0.101878322660923,
      -0.06952511519193649,
      0.0766516923904419,
      -0.043607160449028015,
      0.07761681824922562,
      -0.011264975182712078,
      -0.020540108904242516,
      -0.024561887606978416,
      -0.0012897547567263246,
      -0.0004376320284791291,
      -0.036629512906074524,
      0.06789626181125641,
      0.024585573002696037,
      0.026227077469229698,
      -0.02971404604613781,
      0.01285575795918703,
      0.07375642657279968,
      0.050822947174310684,
      -0.07570014894008636,
      -0.026332711800932884,
      0.010200807824730873,
      0.05400139093399048,
      0.031957753002643585,
      -0.14475029706954956,
      0.09255382418632507,
      0.09153031557798386,
      -0.050152093172073364,
      0.08473940938711166,
      0.027697045356035233,
      0.05077308416366577,
      -0.01894700527191162,
      -0.029841573908925056,
      0.012167760170996189,
      0.04156852886080742,
      0.06720627099275589,
      0.03399330750107765,
      0.11276770383119583,
      0.02191566862165928,
      0.01177909504622221,
      -0.023990698158740997,
      -0.03455370292067528,
      -0.030550770461559296,
      -0.11794299632310867,
      -0.07576961815357208,
      0.038589246571063995,
      -0.07251974195241928,
      -0.003950599115341902,
      -0.016571098938584328,
      0.04867543280124664,
      -0.01625717431306839,
      -0.07764502614736557,
      -0.020806381478905678,
      -0.03567418456077576,
      0.07738417387008667,
      0.018984021618962288,
      0.008898817002773285,
      -0.07367946207523346,
      0.030655791983008385,
      0.006562128663063049,
      -0.0022254150826483965,
      -0.07902059704065323,
      0.022298458963632584,
      -0.02742871455848217,
      -0.047146882861852646,
      -0.026019122451543808,
      0.02448931150138378,
      -0.023967523127794266,
      0.019207637757062912,
      -0.008964614011347294,
      0.05075084790587425,
      -0.051567960530519485,
      -0.024793757125735283,
      -0.008481788448989391,
      0.03142549470067024,
      0.0023519229143857956,
      -0.05236591398715973,
      -0.05083579942584038,
      0.02916068397462368,
      -0.017538584768772125,
      -0.03591042384505272,
      -0.04253711551427841,
      0.057162441313266754,
      -0.07722461968660355,
      -0.02475392073392868,
      0.008614836260676384,
      0.04078887030482292,
      0.018409619107842445,
      0.10685227811336517,
      0.02870365045964718,
      -0.0157187357544899,
      0.008616723120212555,
      -0.023158207535743713,
      0.00437072291970253,
      0.02867211028933525,
      0.03340183570981026,
      -0.0017237772699445486,
      0.03046000562608242,
      0.03403997793793678,
      0.01841992884874344,
      0.02043350227177143,
      0.05062417685985565,
      0.030170762911438942,
      0.1150323897600174,
      0.013173853978514671,
      -0.014942447654902935,
      0.03174011781811714,
      -0.007067765574902296,
      0.028054270893335342,
      0.005970279686152935,
      0.03511448949575424,
      -0.01780000887811184,
      0.07281938940286636,
      -0.007800548803061247,
      -2.8391852808654947E-33,
      0.03535060957074165,
      0.00651559978723526,
      0.00992822740226984,
      0.07139729708433151,
      0.12537838518619537,
      0.03707823529839516,
      -0.0063746473751962185,
      -0.09590927511453629,
      -0.02492266334593296,
      0.009657594375312328,
      0.07259313017129898,
      -0.12219974398612976,
      0.026326272636651993,
      0.031645625829696655,
      0.09354937076568604,
      -0.03031238168478012,
      0.03022332303225994,
      0.06559818238019943,
      -0.028927160426974297,
      -0.12374533712863922,
      -0.029556306079030037,
      -0.0975966528058052,
      -0.0020575327798724174,
      -0.013890029862523079,
      -0.02083718031644821,
      -0.029601024463772774,
      0.016613703221082687,
      -0.029084280133247375,
      0.07898988574743271,
      -0.029751690104603767,
      -0.011432931758463383,
      0.031210066750645638,
      0.010573451407253742,
      0.026578795164823532,
      0.08812571316957474,
      -0.013082857243716717,
      -0.0364246591925621,
      -0.008270622231066227,
      0.025738779455423355,
      0.019373327493667603,
      0.02379051223397255,
      -0.028084462508559227,
      -0.058036722242832184,
      -0.07592339813709259,
      0.09682273864746094,
      0.013757318258285522,
      -0.0003584118967410177,
      0.01780073530972004,
      -0.06700410693883896,
      -0.07805456221103668,
      -0.06613694131374359,
      -0.03395058587193489,
      0.030088063329458237,
      0.0018449695780873299,
      -0.11229252070188522,
      -0.0022417232394218445,
      0.021856967359781265,
      -0.05849604681134224,
      0.08374997973442078,
      -0.03603804484009743,
      0.07347007095813751,
      0.03938695788383484,
      -0.024109385907649994,
      -0.08136305958032608,
      -0.026315584778785706,
      0.04133859649300575,
      0.034203268587589264,
      -0.00255403365008533,
      0.03230919688940048,
      -0.03229375183582306,
      0.10001392662525177,
      0.12827523052692413,
      0.056097809225320816,
      0.019452936947345734,
      0.03965393453836441,
      0.06725350022315979,
      -0.00827502366155386,
      0.007458785083144903,
      0.018141712993383408,
      0.04738675057888031,
      0.04390888661146164,
      -0.028700804337859154,
      -0.06826649606227875,
      -0.008040044456720352,
      -0.0009750796016305685,
      -0.002425823826342821,
      0.05671023204922676,
      -0.04268055409193039,
      -0.06705263257026672,
      -0.026779789477586746,
      -0.046129219233989716,
      0.027168847620487213,
      -0.026650967076420784,
      -0.04474497213959694,
      -0.01549044344574213,
      1.9805272488791155E-33,
      0.06436163187026978,
      -0.08245663344860077,
      0.029358282685279846,
      -0.07763286679983139,
      0.0372038260102272,
      -0.03260696306824684,
      -0.07552670687437057,
      -0.10286366194486618,
      0.07839419692754745,
      -0.003209992777556181,
      -0.11845862865447998,
      0.03611636161804199,
      0.011516221798956394,
      0.03324781730771065,
      0.08153019845485687,
      -0.025958068668842316,
      0.08971172571182251,
      -0.03913329914212227,
      0.056777603924274445,
      0.06264287978410721,
      -0.023948494344949722,
      0.008103623054921627,
      -0.048559337854385376,
      0.0005492436466738582,
      0.053802624344825745,
      0.10218648612499237,
      0.0036654463037848473,
      0.02694481797516346,
      -0.060980264097452164,
      0.025378931313753128,
      -0.08932648599147797,
      -0.04521426558494568,
      -0.00014420015213545412,
      -0.02298150025308132,
      0.049061909317970276,
      0.08363285660743713,
      -0.01792563684284687,
      0.018631143495440483,
      -0.019355665892362595,
      0.02732217311859131,
      0.027216505259275436,
      -0.04443651810288429,
      0.034539975225925446,
      0.06618497520685196,
      0.007768615614622831,
      0.0680973008275032,
      -0.07463471591472626,
      0.05010436847805977,
      -0.013249214738607407,
      -0.06177498772740364,
      -0.05096331983804703,
      -0.00005946717283222824,
      -0.16723588109016418,
      -0.020744800567626953,
      0.07190858572721481,
      0.00012697761121671647,
      0.017085686326026917,
      -0.026961881667375565,
      -0.06173671782016754,
      0.03580678254365921,
      -0.04812917858362198,
      0.040402088314294815,
      -0.035188160836696625,
      0.08332940936088562,
      -0.01485881395637989,
      -0.06430741399526596,
      -0.055570002645254135,
      -0.03111421875655651,
      -0.0021074882242828608,
      -0.027984067797660828,
      -0.08593298494815826,
      0.03935490548610687,
      0.03879762068390846,
      -0.04010599106550217,
      -0.054611653089523315,
      -0.02272626757621765,
      0.10919072479009628,
      -0.022644853219389915,
      0.001947263372130692,
      0.04571562632918358,
      0.013525652699172497,
      0.0017367429099977016,
      -0.0629202350974083,
      -0.03144100680947304,
      0.044735658913850784,
      -0.015548687428236008,
      -0.05218135192990303,
      0.01629611849784851,
      -0.04755436256527901,
      0.04086709022521973,
      -0.03653367608785629,
      0.016304481774568558,
      0.015454260632395744,
      -0.027083171531558037,
      -0.01949647255241871,
      -1.726268195056946E-8,
      0.007477488834410906,
      0.03483041748404503,
      -0.022820783779025078,
      0.0030042727012187243,
      0.020214708521962166,
      -0.13035815954208374,
      0.013216735795140266,
      -0.048322949558496475,
      0.08318296074867249,
      0.013127225451171398,
      0.03593694046139717,
      -0.0842122808098793,
      0.01891942322254181,
      0.04064061492681503,
      -0.04024841636419296,
      0.009413007646799088,
      0.02510298788547516,
      0.013499822467565536,
      -0.010064753703773022,
      0.03164154663681984,
      -0.014915904961526394,
      -0.012715350836515427,
      -0.004164197016507387,
      -0.020100153982639313,
      0.014264670200645924,
      0.08927672356367111,
      0.03470374643802643,
      0.05291978642344475,
      0.08702021837234497,
      0.06590942293405533,
      -0.06521552801132202,
      0.01900589093565941,
      -0.05323939397931099,
      -0.03353184834122658,
      -0.015865974128246307,
      -0.14960713684558868,
      -0.031707435846328735,
      -0.016328562051057816,
      0.02312340959906578,
      -0.04174210503697395,
      -0.0783834233880043,
      -0.00035744195338338614,
      -0.015763048082590103,
      -0.0000515020037710201,
      -0.030210087075829506,
      0.0887947827577591,
      0.024382691830396652,
      -0.0020650329533964396,
      -0.03472238779067993,
      0.018376164138317108,
      -0.11759939789772034,
      -0.012953846715390682,
      0.05168920382857323,
      -0.01403794065117836,
      0.056282900273799896,
      -0.006463951896876097,
      -0.07047281414270401,
      0.010954143479466438,
      0.0315120555460453,
      0.0419817678630352,
      -0.02440204657614231,
      -0.044033147394657135,
      -0.09455832839012146,
      0.004626106470823288
    ],
    "raw_email_email_subject": "Weekend outing ideas",
    "raw_email_email_body": "Should we pick a place to go this weekend and make a plan?"
  },
  "available_topics": [
    "work",
    "personal",
    "promotion",
    "newsletter",
    "support",
    "sport"
  ]
}
